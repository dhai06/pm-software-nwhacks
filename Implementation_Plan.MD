# Implementation Plan: Intelligent Critical Path & Scenario Planning

**Version:** 1.0
**Based on:** PRD v3.2
**Tech Stack:** Next.js 16 (App Router), React 19, Supabase, FastAPI (Python), Zustand, React Flow.

---

## ðŸ“‚ 1. Repository & File Structure

We will use a monorepo-style structure to keep the Frontend (Next.js) and the AI Microservice (Python) in one place for easier development, though they will be deployed separately.

```bash
/project-root
â”œâ”€â”€ /frontend                 # Next.js App Router (The "Reality" Engine)
â”‚   â”œâ”€â”€ /app
â”‚   â”‚   â”œâ”€â”€ /dashboard        # Main app views
â”‚   â”‚   â”‚   â”œâ”€â”€ /project/[id] # Dynamic route for Project View
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx  # Timeline/Board switcher
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ layout.tsx
â”‚   â”‚   â””â”€â”€ /api              # Next.js API Routes (Proxy to AI Service)
â”‚   â”œâ”€â”€ /components
â”‚   â”‚   â”œâ”€â”€ /timeline         # Gantt Chart components (React Flow wrapper)
â”‚   â”‚   â”œâ”€â”€ /kanban           # Board components (dnd-kit or react-beautiful-dnd)
â”‚   â”‚   â””â”€â”€ /ui               # Shadcn/Tailwind primitives
â”‚   â”œâ”€â”€ /lib
â”‚   â”‚   â”œâ”€â”€ /stores           # Zustand stores (projectStore.ts, uiStore.ts)
â”‚   â”‚   â”œâ”€â”€ /algorithms       # Client-side graph logic (DFS cycle check)
â”‚   â”‚   â””â”€â”€ supabase.ts       # Supabase client
â”‚   â””â”€â”€ /types                # TypeScript interfaces (Task, Dependency, Graph)
â”‚
â”œâ”€â”€ /ai-service               # FastAPI Microservice (The "Pathfinder")
â”‚   â”œâ”€â”€ main.py               # Entry point
â”‚   â”œâ”€â”€ /routers              # Endpoints (plan_generator.py, loop_fixer.py)
â”‚   â”œâ”€â”€ /core                 # RAG logic & Vector Store interaction
â”‚   â””â”€â”€ /models               # Pydantic models
â”‚
â””â”€â”€ /supabase                 # Database Config
    â”œâ”€â”€ /migrations           # SQL migrations (pgvector setup, tables)
    â””â”€â”€ seed.sql              # Initial template data